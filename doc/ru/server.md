## Сервер консольного чата

Сервер использует многопоточную модель. В процессе работы запускает следующие потоки:

1. ожидание входящих соединений от клиентов `ru.netology.consolechat.server.ServerWorker`.
2. идентификация входящих соединений `ru.netology.consolechat.server.IdentificationWorker`. Реализует логику
   присоединения клиента к чату: ожидает 500 мс получение от клиента приветственного сообщения с именем и если оно
   получено,
   клиент перемещается в пулл соединений для массовой рассылки и получения всех сообщений. Иначе соединение считается
   сбойным и разрывается.
   Логика используется для снижения риска блокировки основного потока сообщений в ожидании, когда клиент отправит
   приветствие. И также упрощает логику
   приема и отправки основного потока сообщений. В дальнейшем может быть относительно просто добавлена логика реальной
   идентификации
   и на ее результате добавлены алгоритмы авторизации полученных сообщений.
3. очистка пула соединение от закрытых `ru.netology.consolechat.server.CleaningWorker`
4. чтение входящих сообщение от клиентов `ru.netology.consolechat.common.worker.ReceiveWorker`. Получив сообщение от
   клиента, воркер отправялет его в очереди всех потребителей: воркер рассылки сообщений, воркер записи сообщений в
   логфайл
5. рассылка полученных сообщений всем подключенным клиентам `ru.netology.consolechat.common.worker.SendWorker`
6. запись в лог файл полученных сообщений `ru.netology.consolechat.common.worker.LogWorker`

При запуске сервер использует конфигурацию из файла хранящегося в `etc/server.conf`. Директория etc должна находиться
в папке с запускаемым jar файлом или в папке проекта. Пример конфигурации см в `etc/server.conf.example`.

```ini
port=8080
messageQueueCapacity=1000
logfile=log/messages-server-log.txt
```

messageQueueCapacity - максимальная длина очередей сообщений между воркерами. 